% file: mysolution.tex @ https://github.com/zfengg/toolkit/blob/master/tex/mysolution/mysolution.tex
%
%	A simple tex template to write solutions for assignments/tests/exams.
%
% author: Zhou Feng @ 23/05/2021

\documentclass[12pt]{article}

% --------------------------------- packages --------------------------------- %
\footskip 4.ex
\parskip 1.ex
\renewcommand{\baselinestretch}{1.0858}
\usepackage[a4paper,margin=0.7in]{geometry}
\renewcommand{\baselinestretch}{1}
\usepackage{amsmath,mathtools}
\usepackage{amsfonts,amsthm,amstext,amssymb,amscd,array,enumerate}
\usepackage[pdfusetitle,
			bookmarks=true,bookmarksopen=true,
			colorlinks,linkcolor=blue,pagebackref,
			citecolor=blue,urlcolor=black]{hyperref}
\usepackage{graphicx}
\usepackage[shortlabels]{enumitem} % for the smart enumeration

% --------------------------------- settings --------------------------------- %
% title setup
\renewcommand{\maketitle}{
	{\centering \large{\bfseries\uppercase\expandafter{\institute}\\
			\department
		}\\
	{\bfseries\course}
		\\
	\stitle \\}
}
% question counter
\newcounter{question}
\setcounter{tocdepth}{2} % for bookmark levels
% question titles
\newcommand{\qpart}[1]{\refstepcounter{question}
	\section*{#1}
	\pdfbookmark[1]{#1}{Q:\thequestion}}
\newcommand{\question}[1]{\refstepcounter{question}
	\subsection*{#1}
	\pdfbookmark[2]{#1}{Q:\thequestion}}
\newcommand{\questionPts}[2]{\refstepcounter{question}
	\subsection*{#1\,(#2\,pts)}
	\pdfbookmark[2]{#1}{Q:\thequestion}}
\newcommand{\questionFt}[2]{\refstepcounter{question}
	\subsection*{#1\footnote{#2}}
	\pdfbookmark[2]{#1}{Q:\thequestion}}
\newcommand{\questionPtsFt}[3]{\refstepcounter{question}
	\subsection*{#1\footnote{#3}\,(#2\,pts)}
	\pdfbookmark[2]{#1}{Q:\thequestion}}
% ordered questions
\newcommand{\oquestion}[1][\oqlabel]{\refstepcounter{question}
	\subsection*{#1\thequestion}
	\pdfbookmark[2]{#1\thequestion}{oQ:\thequestion}}
\newcommand{\oquestionPts}[2][\oqlabel]{\refstepcounter{question}
	\subsection*{#1\thequestion\,(#2\,pts)}
	\pdfbookmark[2]{#1\thequestion}{oQ:\thequestion}}
\newcommand{\oquestionFt}[2][\oqlabel]{\refstepcounter{question}
	\subsection*{#1\thequestion\footnote{#2}}
	\pdfbookmark[2]{#1\thequestion}{oQ:\thequestion}}
\newcommand{\oquestionPtsFt}[3][\oqlabel]{\refstepcounter{question}
	\subsection*{#1\thequestion\footnote{#3}\,(#2\,pts)}
	\pdfbookmark[2]{#1\thequestion}{oQ:\thequestion}}
% items with pts
\newcommand{\itemPts}[1][\quad]{\item\!(#1\,pts)}
% question list environments
\newenvironment{qenumerate}[1]{\begin{enumerate}[(#1)]}{\end{enumerate}}
\newenvironment{qenumerate*}[1][\arabic]{\begin{enumerate}[label=\textbf{(#1*)}]}{\end{enumerate}}
\newenvironment{altsols}[1][\arabic]{\begin{enumerate}[label=\textbf{S.#1*}]}{\end{enumerate}}
% others
\newcommand{\theend}{
	\begin{center}
		\vfil \small--- \textit{THE END} ---
	\end{center}
}
\newcommand{\nextYear}[1][1]{\advance\year by #1 \the\year\advance\year by -#1}
\usepackage{perpage}	% to reset counters parpage
\MakePerPage{footnote}  % the perpage package comman
\newenvironment{solution}[1][Solution]{\begin{proof}[#1]}{\end{proof}}
\allowdisplaybreaks

% -------------------------------- fast-typing ------------------------------- %


% ----------------------------------- title ---------------------------------- %
\newcommand{\institute}{The Chinese University of Hong Kong}
\newcommand{\department}{Department of Mathematics}
\newcommand{\course}{MATH1234 Course Name}
\newcommand{\stitle}{Solutions to Assignment Name}
\newcommand{\oqlabel}{Q} % the prefix label for ordered questions

% ---------------------------------------------------------------------------- %
%                                   document                                   %
% ---------------------------------------------------------------------------- %
\begin{document}

\maketitle

\qpart{Partition of questions}

\question{Question}

\questionFt{Question with footnote}{This is the footnote to the question.}

\questionPtsFt{Question with points and footnote}{2}{This is the footnote to the question.}

Solution content.


\questionPts{Question with listings}{2}

Solution with small questions.

\begin{qenumerate}{a}
	\item Solution to the first question.
	\begin{qenumerate}{I}
		\item Solution to the first question.

		\item Solution to the second question.
		\begin{qenumerate}{A}
			\item Solution to the first question.

			\item Solution to the second question.
		\end{qenumerate}

	\end{qenumerate}

	\item Solution to the second question.

	\begin{qenumerate}{i}
		\itemPts[2] Solution to the first question with points.

		\itemPts[3] Solution to the second question with points.
	\end{qenumerate}

	\item Solution to the third question.

	\begin{qenumerate}{1}
		\item Solution to the first question.

		\item Solution to the second question.
	\end{qenumerate}

\end{qenumerate}

\question{Question with bold listing labels}

\begin{qenumerate*}
	\item Solution to the first question.

	\item Solution to the second question.

	\begin{qenumerate*}[\Alph]
		\item Solution to the first question.

		\item\label{itm:options} Available options: \verb|\arabic|\verb|\roman|\verb|\Roman|\verb|\alph|\verb|\Alph|. The default: \verb|\arabic|.
	\end{qenumerate*}
\end{qenumerate*}

\questionPts{Question with alternative solutions}{10}
The alternative solutions.

\begin{altsols}
	\item The first suggested solution.

	\item The second alternative solution. The available options of label styles are the same as \ref{itm:options}.

\end{altsols}

\qpart{Ordered questions}
\setcounter{question}{0}
\oquestion The first question. \thequestion

\oquestionFt{This is the footnote} The section question. \thequestion

\oquestionPts{8}

\oquestionPtsFt{10}{The footnote text.}

\theend

\end{document}
